{
  "version": 8,
   "metadata": {
    "test": {
      "allowed": 0.00154,
      "width": 512,
      "height": 512,
      "operations": [
        ["wait"]
      ]
    }
  },
  "lights": [
    {
      "type": "ambient",
      "id": "environment"
    },
    {
      "type": "directional",
      "id": "sun_light",
      "properties": {
        "cast-shadows": true,
        "intensity": 0.8599999904632569,
        "direction": [
          311.9219970703125,
          82.37799835205078  
        ]
      }
    }
  ],
  "sources": {
    "geojson": {
      "type": "geojson",
      "promoteId": ["coalesce", ["get", "building_id"], ["id"]],
      "data": {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {
              "extrude": "false",
              "underground": "false",
              "source_id": "building"
            },
            "id": 1,
            "geometry": {
              "coordinates": [
                [
                  [
                    11.5746263783388,
                    48.1375592849677
                  ],
                  [
                    11.5746263783388,
                    48.1373765725484
                  ],
                  [
                    11.5749991824917,
                    48.1373765725484
                  ],
                  [
                    11.5753991824917,
                    48.1373765725484
                  ],
                  [
                    11.5753991824917,
                    48.1375592849677
                  ],
                  [
                    11.5749991824917,
                    48.1375592849677
                  ],
                  [
                    11.5746263783388,
                    48.1375592849677
                  ]
                ]
              ],
              "type": "Polygon"
            }
          },
          {
            "type": "Feature",
            "properties": {
              "min_height": 0,
              "cross_perc": 0,
              "source_id": "building",
              "entrances": "[0.3]",
              "distance_to_road": 33.34
            },
            "id": 2,
            "geometry": {
              "type": "LineString",
              "coordinates": 
              [
                [
                  11.5746263783388,
                  48.1373765725484
                ],
                [
                  11.5749991824917,
                  48.1373765725484
                ]
              ]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "min_height": 0,
              "cross_perc": 0,
              "source_id": "building",
              "entrances": "[0.3]",
              "distance_to_road": 33.34
            },
            "id": 3,
            "geometry": {
              "type": "LineString",
              "coordinates": 
                [
                  [
                    11.5749991824917,
                    48.1373765725484
                  ],
                  [
                    11.5753991824917,
                    48.1373765725484
                  ]
                ]
              }
          },
          {
            "type": "Feature",
            "properties": {
              "extrude": "true",
              "underground": "false",
              "source_id": "building_part_1",
              "height": 10,
              "roof-shape": "parapet",
              "building_id": 1

            },
            "id": 4,
            "geometry": {
              "coordinates": [
                [
                  [
                    11.5746263783388,
                    48.1375592849677
                  ],
                  [
                    11.5746263783388,
                    48.1373765725484
                  ],
                  [
                    11.5749991824917,
                    48.1373765725484
                  ],
                  [
                    11.5749991824917,
                    48.1375592849677
                  ],
                  [
                    11.5746263783388,
                    48.1375592849677
                  ]
                ]
              ],
              "type": "Polygon"
            }
          },
          {
            "type": "Feature",
            "properties": {
              "extrude": "true",
              "underground": "false",
              "source_id": "building_part_2",
              "height": 15,
              "roof-shape": "pyramidal",
              "building_id": 1
            },
            "id": 5,
            "geometry": {
              "coordinates": [
                [
                  [
                    11.5749991824917,
                    48.1375592849677
                  ],
                  [
                    11.5749991824917,
                    48.1373765725484
                  ],
                  [
                    11.5753991824917,
                    48.1373765725484
                  ],
                  [
                    11.5753991824917,
                    48.1375592849677
                  ],
                  [
                    11.5749991824917,
                    48.1375592849677
                  ]
                ]
              ],
              "type": "Polygon"
            }
          }
        ]
      }
    }
  },
  "zoom": 18.5,
  "center": [
    11.5750125,
    48.1374524
  ],
  "pitch": 70,
  "bearing": 0.0,
  "layers": [
    {
      "type": "background",
      "paint": {
        "background-color": [
          "interpolate",
          [
            "linear"
          ],
          [
            "zoom"
          ],
          11.0,
          [
            "rgba",
            239.00001525878907,
            233.00001525878907,
            225.00001525878907,
            1.0
          ],
          13.0,
          [
            "rgba",
            230.00001525878907,
            228.00001525878907,
            224.00001525878907,
            1.0
          ]
        ]
      },
      "id": "land"
    },
    {
      "id": "building",
      "type": "building",
      "source": "geojson",
      "minzoom": 16,
      "filter": [
        "any",
        [
          "==",
          [
            "get",
            "extrude"
          ],
          "true"
        ],
        [
          "<",
          [
            "get",
            "cross_perc"
          ],
          0.5
        ]
      ],
      "layout": {
        "building-roof-shape": [
            "get",
            "roof-shape"
        ],
        "building-base": 0,
        "building-height": [
            "get",
            "height"
        ]
      },
      "paint": {
        "building-color": [
          "match",
          ["get", "building-part"],
          "wall",
          ["hsl", 41, 90, 90],
          "roof",
          ["hsl", 25, 43, 80],
          "window",
          ["hsl", 198, 22.4, 64.1],
          "door",
          ["hsl", 0, 100, 100],
          ["hsl", 41, 90, 90]
        ],
        "building-emissive-strength": [
          "match",
          ["get", "building-part"],
          "door",
          2.5,
          0
        ],
        "building-ambient-occlusion-intensity": 1
      }
    }
  ]
}
